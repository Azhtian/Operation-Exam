# Oblig 3 - Operation Exam

* Team: *Biosoft productions* (Gruppe 2, Team 3) *Marius Lokøen Hatland, Stian Adrian Rykkje, Marita Aakre, Daniel Beadle, Sondre Nordmoen*

### Innhold 

[Deloppgave 1](#deloppgave-1)  
[Deloppgave 2](#deloppgave-2)  
[Deloppgave 3](#deloppgave-3)  
[MVP](#mvp)  
[Møtereferat](#vedlegg-møtereferat)  
[Brukerhistorier og akseptansekriterier](#brukerhistorier-og-akseptansekriterier)  


###  Rollefordeling:

* Daniel
  * Sjefsutvikler
* Marius
  * Testansvarlig
  * Logistikkansvarlig
* Stian
  * Nestleder
  * Grafisk designer
* Marita
  * Kundekontakt
  * Grafisk designer
* Sondre
  * Leder
  * Hovedansvar for debugging
  * Dokumentasjon og logg-ansvarlig


## Deloppgave 1

[Top](#oblig-3-operation-exam)  

* Hvordan fungerer rollene i teamet? Trenger dere å oppdatere hvem som er teamlead eller kundekontakt?
Trenger dere andre roller? Skriv ned noen linjer om hva de ulike rollene faktisk innebærer for dere.
  * Rollene har fungert bra. I denne omgang har vi valgt å ikke oppdatere rollene. Vi merket at endringene vi bestemte oss for forrige oblig har hjulpet oss og det har fungert bedre.
  * Leder innebærer å ta beslutninger når man ikke kommer til enighet, eller sørge for at gruppen holder seg på rett spor. Dette har ikke vært særlig til problem, diskuterer problemer som kommer opp. Er leder usikker samarbeider den med nestleder.
  * Sondre har ansvaret for dokumentering og møtereferat.
  * Stian og Marita har som grafiske designere, hatt ansvar for utseende på spillobjekter, level-derign og menyer.
  * Daniel er sjefsutvikler og dermed fikk han hovedansvaret for å restrukturere koden til et MVC-produkt. Han vil også ha hovedansvar for slike store refaktoreringer i fremtiden dersom det skulle bli relevant. 
  * Marius har som logistikkansvarlig ansvar for å planlegge og reservere grupperom til regelmessige møter med teamet. Som testansvarlig har han ansvar for å teste spille, både ved bruk av enhetstester og manuelle tester. 


* Er det noen erfaringer enten team-messig eller mtp prosjektmetodikk som er verdt å nevne?  
  * Kanban har fungert veldig bra for oss. Det har vært oversiktlig og lett å jobbe med, med god oversikt over alle oppgavene som må gjøres. Det har vært til stor hjelp å se hvor langt vi er kommet på vei og hvem som har jobbet med de forskjellige oppgavene. Det har vært motiverende å flytte oppgaver fra “doing” til “fullført”.
  * Videre vil vi se på nytten av å bruke ideer fra scrum mer bevisst. Vi har jobbet litt med scrum ved å dele oppgaver i mindre biter og dele dem ut i løpet av gruppetimen. Vi prøver så å få oppgavene ferdige innen neste møte.


* Synes teamet at de valgene dere har tatt er gode? Hvis ikke, hva kan dere gjøre annerledes for å forbedre måten teamet fungerer på?
  * Vi synes teamet fungerer bra sammen, men vi burde ha fokusert mer på å skrive objektorientert kode og strukturere prosjektet ifølge MVC strukturen i starten av prosjektet. Det ville ført til mindre arbeid for oss nå, og gjort det lettere å skrive tester. 

* Hvordan er gruppedynamikken? Er det uenigheter som bør løses?
  * Gruppen kommuniserer godt med hverandre, og har få uenigheter. De største uenighetene vi hadde var hvordan vi ønsket å implementere en MVC model, men det løste seg i løpet av en gruppetime.


* Hvordan fungerer kommunikasjonen for dere?
  * Kommunikasjonen har fungert veldig godt i gruppen. Dette fordi vi har hatt hyppig kommunikasjon gjennom discord, vi har hatt møter 2 ganger i uken og vi har jobbet sammen i gruppetimene. Det har vært lav terskel for å stille spørsmål om hjelp fra noen i teamet. Alle valg som vi har gjort har blitt diskutert grundig og alle sine meninger blir hørt. 
  * Vi har hatt en lett og munter tone i alle møter og gruppetimer. Vi har hatt god kultur for å fortelle vitser og spøke om oppgaven, eller vise frem morsomme bugs i koden. 
Alle har bidratt jevnt til kommunikasjon og deltatt på møter. Alle har hatt god responstid på discord og det har aldri vært noe uklarhet om hvor møter skal holdes, om folk blir seine eller om de deltar digitalt eller fysisk. 

* Gjør et kort retrospektiv hvor dere vurderer hva dere har klart til nå, og hva som kan forbedres. Dette skal handle om prosjektstruktur, ikke kode. Dere kan selvsagt diskutere kode, men dette handler ikke om feilretting, men om hvordan man jobber og kommuniserer.
  * I forrige oblig skrev vi at vi ville fokusere på å ha større fokus på å skrive gode brukerhistorier og få på plass akseptansekrav til hver arbeidsoppgave før vi begynner på selve oppgaven. Her har vi sett en stor forbedring. Vi la merke til fra forrige oblig at brukerhistorier og akseptansekrav var noe som kom som en ettertanke. Denne gangen har hatt stor fokus på brukerhistoriene og akseptansekrav fra starten av. Vi ser nå hvordan brukerhistoriene og akseptanse kravene er med på å forme hvordan arbeidsoppgavene løses. Det har gitt oss en forhåndsdefinert struktur på hvordan oppgaven skal løses som har gjort at oppgavene har blitt lettere å løse.
  * Vi skrev i forrige oblig at vi ville prøve å kombinere kanban med scrum i større grad. De fleste arbeidsoppgavene i denne obligen har vært  litt mindre oppgaver rettet mot å forbedre spillet. Dette har vært oppgaver vi har sett som nødvendig å få på plass før vi begynner på det som skal være stretch-goalet vårt for oblig 4. Vi har dermed hovedsakelig beholdt prosjektmetodikken lik som fra forrige oblig. Vi ønsker fortsatt å ha som fokus å kombinere kanban og scrum til oblig 4 hvor vi ser at vi kan få større nytte av å kombinere dem. 
  * Vi har klart å få til alle MVP-kravene vi ønsket, og igjen fått et mer objektorientert prosjekt totalt sett. 
  * Likevel har vi forbedringspotensial når det kommer til antall tester i prosjektet. 
  * Når prosjektet veldig ofte blir oppdatert med nye commits har det vært hjelpsomt at personen som er ansvarlig for den nye kodeendringen har brukt tid på å forklare endringene til resten av teamet. I tillegg har vi raskt funnet løsninger, ved å samarbeide i gruppetimene og "par programmert" hvis noen står fast eller vil ha innspill. 
  * Trello er et produkt vi fremdeles jobber godt med og hjelper oss å strukturere. Vi har oppdatert den kontinuerlig og lagt til nye oppgaver underveis. Link til [project board](https://trello.com/b/233wC0Wh/project-board).
  * Vi har til nå jobbet mellom gruppemøter hvor alle velger en oppgave fra trello og kan fullføre den på neste møte. Oppgavene har vært litt i forskjellige størrelser, fra å fikse noe smått til å endre på hele kodestrukturen. Som en følge har noen oppgaver tatt litt lengre tid. Vi synes at det har fungert, men vi ser også at det finnes forbedringspotensiale. Vi kan blir bedre på å dele opp oppgaver i passelige biter til arbeidsintervallet vi har satt, og prøve å endre lengden på intervallet for å teste om det gir bedre produktivitet og mer jevn arbeidsfordeling. Dette vil samsvare mer med scrums sprinter.


* Under vurdering vil det vektlegges at alle bidrar til kodebasen. Hvis det er stor forskjell i hvem som committer, må dere legge ved en kort forklaring for hvorfor det er sånn. Husk å committe alt. (Også designfiler)
  * Antall commits er ikke representativt for hvor mye noen bidrar til teamet. 
    * Det viser seg at Sondre har mange flere commits enn mange andre i gruppen. Dette har mye med at han ofte fikser merge-conflicts, eller committer små feilrettinger. Dette gjør at han får mange flere commits på mindre størrelse, mens andre i gruppen ofte har større endringer i kodebasen.
    * Daniel, som er en av dem med færrest commits har restrukturert hele kodebasen, og har veldig ofte store endringer i kodestruktur.
    * Marita er også i samme kategori som Daniel, hvor hun har gjort store endringer når hun committer. Hun er ansvarlig for å ha laget hele `ScreenManager` systemet vi bruker.


* Referat fra møter siden forrige leveranse skal legges ved (mange av punktene over er typisk ting som havner i referat) 
  * [Referat](#vedlegg-møtereferat) ligger vedlagt i bunnen

* Bli enige om maks tre forbedringspunkter fra retrospektivet, som skal følges opp under neste sprint.

  * Bruke Scrum-metodikken i større grad ved å dele opp arbeidsoppgaver i mindre deloppgaver som er gjennomførbare i det gitte sprint intervallet. Dermed kan vi sette strengere deadlines for oppgavene.
    * Vi har lyst å bruke scrum-metodikken i større grad. Vi tenker det er mer passende til oblig 4 siden vi da har litt større oppgaver som må på plass, spesielt stretch goalet.
  * Vi har lyst å lage et ferdigstilt produkt. Til nå har vi hatt en del uferdige funksjonaliteter som vi har latt bli i prosjektet. Siden neste innlevering er den siste, har vi lyst å passe på at alt fungerer på en god måte til slutt.
  * Det siste vi ønsker å forbedre er test-coverage. Flere tester, automatiske tester og bedre tester generelt. Mange av testene våre har til nå vært manuelle tester. 


## Deloppgave 2

[Top](#oblig-3-operation-exam)  

* Bestem dere for én litt mer avansert ting som dere vil prøve å få til utover et vanlig single-player platform spill. Dette kan være f.eks.: multiplayer (på samme maskin eller over nett), å porte til en annen platform (Android eller Web, f.eks.), å bytte ut grafikk-frontenden, e.l.
Dropp multiplayer fra MVP om dere velger noe annet her ;)
  * Vi ønsker å implementere en boss-fiende som kan være på den siste banen. Dette vil gi oss en mer tilfredsstillende avslutning. Denne vil ikke være klar før Oblig 4, men vi har implementert lokal flerspiller, som var det forrige stretch-goalet .


## MVP
[Brukerhistorier](#brukerhistorier-og-akseptansekriterier) ligger på bunn av filen
* Oppdater hvilke krav dere har prioritert, hvor langt dere har kommet og hva dere har gjort siden forrige gang. Er dere kommet forbi MVP? Forklar hvordan dere prioriterer ny funksjonalitet.
  * Vi har oppnådd MVP, og jobber nå hovedsakelig med å ferdigstille det produktet vi allerede har. Ny funksjonalitet havner derfor lengre bak i køen, og bug-fixing og forbedringer av brukeropplevelsen prioriteres.

* For hvert krav dere jobber med, må dere lage 1) ordentlige brukerhistorier, 2) akseptansekriterier og 3) arbeidsoppgaver. Husk at akseptansekriterier ofte skrives mer eller mindre som tester

  * Fullførte krav fra MVP liste \([Original MVP-liste](./ObligatoriskOppgave1.md#brukerhistoriermvp)\)
    * Vise spillbrett, spiller, og fiender på spillbrettet fungerer uten feil. Spillere og fiender har den størrelsen de fremstår som på spillbrettet.
    * Spiller kan interagere med terreng og kan bevege seg ved hjelp av piltastene. Dette fungerer også uten problem. Spiller kan også kun hoppe når spiller står på bakken.
    * Spiller interagerer også med poenggjenstander, og har en poengteller man kan lese av.
    * Fiender som kan interagere med spiller og terreng fungerer bra. Det er forskjellige typer fiender; noen søker spilleren ut aktivt, mens andre hopper når de kommer til en kant. Spilleren tar også skade ved å komme i kontakt med en fiende.
    * Spilleren kan dø ved å være borti en fiende for mange ganger.
    * Spillbrettet har et mål, som for øyeblikket er et sted. Å nå dette “stedet” gjør at du vinner banen.
    * Spillet gir deg et nytt brett når du er ferdige med det forrige, og flere baner begynner å bli implementert.
    * Spillet har en start-skjerm, en pause-skjerm, og både tap- og seiers-skjerm. Det er også flere undermenyer. Dersom man navigerte gjennom undermenyene på en spesiell måte startet spillet hvor man tapte eller vant før spillet egentlig startet. Dette skal være fikset.
    * Spillet kan nå støtte 2 spillere.


## Deloppgave 3

[Top](#oblig-3-operation-exam)  

* Utbedring av feil: hvis dere har rettet / forbedret noe som dere har fått trekk for tidligere, lag en liste med «Dette har vi fikset siden sist», så det er lett for gruppelederne å få oversikt.
  * Vi har gjort utbedringer på alle elemente vi fikk tilbakemelding på av gruppeleder.
  * Vi har sjekket at vi har svart på alle spørsmål. Vi har oppdatert README.md med en ordentlig proskjetbeskrivelse. Vi har tatt med alle brukerhistorier og akseptansekrav. 
  
* Prosjektet skal kunne bygge, testes og kjøres på Linux, Windows og OS X – dere kan f.eks. spørre de andre teamene på gruppen om dere ikke har tilgang til alle platformene. OBS! Den vanligste grunnen til inkompatibilitet med Linux er at filnavn er case sensitive, mens store/små bokstaver ikke spiller noen rolle på Windows og OS X. Det er viktig å sjekke at stiene til grafikk og lyd og slikt matcher eksakt. Det samme vil antakelig også gjelde når man kjører fra JAR-fil.
  * Prosjektet er testet på Windows, Linux og Mac. Se README.md for hvordan bygge og kjøre proskjetet.  
  
* Lag og lever et klassediagram. (Hvis det er veldig mange klasser, lager dere for de viktigste.) Det er ikke nødvendig å ta med alle metoder og feltvariabler med mindre dere anser dem som viktige for helheten. (Eclipse har forskjellige verktøy for dette.)
  * Vedlagt ligger et [klassediagram](https://git.app.uib.no/biosoft-productions/Operation-Exam/-/tree/master/Deliverables/classDiagramOblig3.png) \([full størrelse](https://git.app.uib.no/biosoft-productions/Operation-Exam/-/raw/master/Deliverables/classDiagramOblig3.png)\) som viser den generelle strukturen for programmet. Her er alle metodene med i diagrammet, da vi ikke hadde noe kontroll over hvilke metoder og lignende som ble tatt med av programmet.  
  

* Kodekvalitet og testdekning vektlegges. Dersom dere ikke har automatiske tester for GUI-et, lager dere manuelle tester som gruppelederne kan kjøre basert på akseptansekriteriene. 
  * Manuelle tester vi har gjort:
    * Sensor rektanglene til enemy er testet ved å printe rektangelet og rektangelet til selve enemyen ved siden av hverandre og sammenligne mens de beveger seg rundt i verdenen. Sensor boolean er testet ved å printe true/false verdien mens enemy beveger seg rundt.
    * Runner sin chase logikk er testet ved å observere hvordan den oppfører seg når en spiller er i nærheten. (snur den seg, øker den farten, ignorerer den at den kommer til å falle?)
    * Menysystemet er testet ved å trykke seg gjennom de ulike menyene. Starter spillet på nytt når det skal uansett hvordan man kommer inn i level select, og uansett om man velger bane 1 eller 2? Blir det riktig antall spillere når man velger det i hovedmenyen? Fungerer det å gå tilbake til hovedmenyen og velge antall spillere på nytt?
    * Level progresjon har blitt testet ved å spille gjennom spillet og se at man kommer videre til neste level ved oppnådd mål for gjeldende level. Game finished har blitt testet ved å fullføre det siste levelet og se at vi blir tatt med til game finished screen.

* Statiske analyseverktøy som SpotBugs eller SonarQube kan hjelpe med å finne feil dere ikke tenker på. Hvis dere prøver det, skriv en kort oppsummering av hva dere fant / om det var nyttig.
  * Ved å bruke et slikt analyseverktøy så vi at vi hadde en del imports som ikke ble brukt, samt et par steder hvor kode var mer eller mindre duplisert. Dette er noe vi kommer til å jobbe med å redusere fremover.
  * Ved hjelp av `spotbugs` så vi også at det var en del optimalisering vi kunne gjøre, samt noe kode som ble klassifisert som “dodgy”. Dette er noe vi vil arbeide med å fikse.


# Vedlegg Møtereferat

[Top](#oblig-3-operation-exam)

### Møtereferat 29.03.2022

Til stede: Marius, Daniel, Sondre, Marita (Discord), Stian (Discord)  

Marius foreslår å refaktorere mob-classen slik at den ikke avhenger av en Texture  
Foreslår jevnere fokus på oblig 3 - begynne med å sette opp akseptansekriterier. 
Diskuterer om vi skal endre hvordan kamera og spiller interagerer  
  - Innspill om å fokusere på fremgangsmåte tester over ny funksjonalitet  
Prioritere tester og testdekning sammen med brukerhistorier  
Diskuterer hvordan vi kan lettere endre klasser slik at de blir testbare  
  - Kommer til å prøve flere løsninger, men lage en ny initializer som ikke tar noen argument virker som en potensielt god ide. 


Videre arbeid:  
Marius - Refaktorere mob-klassen og dens avhengigheter til å ikke avhenge av en Texture  
Daniel - Legge til på player movement (dash, crouch)  


### Møtereferat 01.04.2022

Digitalt discord møte; alle møtte, Marita er syk og delto ikke.


Stian jobber med enveisplatformer; dersom spilleren beveger seg for fort hver frame så vil den gå gjennom platformen. Spillerens hastighet er derfor redusert.  
Daniel jobber med å forbedre player movement, og flytter en del fra controls til spilleren. Control kaller derfor på player.doAction() for å få spilleren til å gjøre det den ønsker. 
Marius jobber med "level select" skjermen, slik at vi lettere kan legge til flere leveler. Alle skal lage en level hver. 


Til neste gang:  
Folk jobber videre med det de var begynt på.  
Sondre - Se om han får laget en player-sprite  
Dersom man blir ferdige : begynne på oblig 3  


### Møtereferat 05.04.2022

Til stede: Daniel, Sondre  

Daniel presenterer hva han har gjort med player movement - ved å ha lagt til dash og sprint.  
Marius viser hvordan han har endret screenmanager til å støtte flere leveller dynamisk. Det blir da lettere å legge til flere levler. Han har også lagt til en ny level  
Sondre viste hva han hadde gjort med player sprites, og hvordan han ønsker å fikse screen-resizing.  



Jobbe med: Obligatorisk innlevering 3  


# Brukerhistorier og akseptansekriterier

[Top](#oblig-3-operation-exam)

## Brukerhistorier:

### Player movement

Som spillet ønsker jeg å ha kontroll på om karakteren dukker eller ikke for å vite hvor høy hit-boxen til spilleren skal være.  
Som spillet ønsker jeg å vite om spilleren dasher slik at jeg kan vite om jeg skal kjøre dash-movement eller vanlig movement.  
Som spillet ønsker jeg å vite om spilleren sprinter slik at jeg kan vite hvor fort spilleren skal flyttes.  
Som spiller ønsker jeg å vite hvordan karakteren beveger seg for å kunne gi de beste inputene for å klare spillet.  

### Neste level

Som spiller trenger jeg å enkelt kunne navigere til neste level når jeg har fullført målet for gjeldende level slik at jeg kan ha framgang og fortsette spillet.  
Som utvikler trenger jeg at det er enkelt å legge inn nye levels slik at jeg ikke må bruke lang tid på å legge til knapper og hard-kode inn verdier hver gang et nytt level opprettes. Dette gjør at jeg kan fokusere på å level-design og enkelt kan utvide spillet.  


### Player Sprite

Som spiller ønsker jeg å se karakteren min, slik at jeg vet hvem jeg er.  
Som spiller ønsker jeg å ha forskjellig utseende fra fiender, slik at jeg vet hvem jeg er.  
Som  spiller 1 ønsker jeg å ha forskjellig utseende fra spiller 2 slik at jeg vet hvem jeg er.  
Som spiller 2 ønsker jeg å ha forskjellig utseende fra spiller 1 slik at jeg vet hvem jeg er.  
Som spiller ønsker jeg å kunne se på karakteren om spillet registrerer det jeg trykker.  
Som spiller ønsker jeg å vite hvilken retning karakteren min beveger seg i visuelt.  

### Player health
Som spiller ønsker jeg å vite hvor mye liv jeg har slik at jeg vet hvor nær jeg er å tape.  
Som spill ønsker jeg å vite hvor mye liv spillerne har slik at jeg vet når de taper.  
Som spill ønsker jeg å vite når spiller taper slik at de får beskjed.  
Som spill ønsker jeg å kunne avslutte spillet når spiller taper.  


## Akseptansekriterier:

### Player Movement
Alle spillere skal kunne dukke, hoppe og sprinte. Sprint og hopp skal bruke stramina. Stamina skal regenereres over tid. Hit boksen til spilleren skal bli mindre nå spilleren dukker. Spilleren skal ikke kunne sprinteog dukke samtidig. Sprint skal øke spillerens hastighet. Dash skal bevege spilleren fort et kort stykke i x retning. Spilleren skal kun få gjøre bevegelser som koster stamina om den har nok stamina


### Neste level

Når level er ferdig skal det komme opp en skjerm som sier at du har fullført levelet og det skal være en knapp som tar deg videre til neste level.  
Når man har fullført det siste levelet skal man komme til en game finished screen.


### Player sprite

Når spilleren trykker på venstre eller høyre piltast skal spilleren snu seg i den retningen man trykker. Dersom spiller trykker høyre piltast skal spiller snu seg mot høyre og bevege seg mot høyre (om mulig). Dersom spiller trykker venstre piltast skal spiller snu seg mot venstre og bevege seg mot venstre (om mulig). Dersom spiller ikke beveger seg mot venstre eller høyre skal spilleren snu seg mot skjermen slik at man vet man står i ro. 
Spiller 1 skal ha et utseende som ikke er likt spiller 2. Både spiller 1 og spiller 2 skal være forskjellige fra fiender og lett kunne skilles. 


### Player health

Spillet skal vise hvor mye liv spilleren har oppe i venstre hjørne sammen med hvor mye liv spilleren kan ha. Når antall liv når 0, skal spilleren tape og skal få beskjed om dette. Når spilleren taper skal spillet ikke kunne fortsettes fra der man tapte, man må enten starte banen på ny eller velge en annen bane. 
